"use strict";var langList={Afrikaans:"af",Amharic:"am",Arabic:"ar",Azerbaijani:"az",Bashkir:"ba",Belarusian:"be",Bulgarian:"bg",Bengali:"bn",Bosnian:"bs",Catalan:"ca",Cebuano:"ceb",Czech:"cs",Welsh:"cy",Danish:"da",German:"de",Greek:"el",English:"en",Esperanto:"eo",Spanish:"es",Estonian:"et",Basque:"eu",Persian:"fa",Finnish:"fi",French:"fr",Irish:"ga","Scottish Gaelic":"gd",Galician:"gl",Gujarati:"gu",Hebrew:"he",Hindi:"hi",Croatian:"hr",Haitian:"ht",Hungarian:"hu",Armenian:"hy",Indonesian:"id",Icelandic:"is",Italian:"it",Japanese:"ja",Javanese:"jv",Georgian:"ka",Kazakh:"kk",Khmer:"km",Kannada:"kn",Korean:"ko",Kyrgyz:"ky",Latin:"la",Luxembourgish:"lb",Lao:"lo",Lithuanian:"lt",Latvian:"lv",Malagasy:"mg",Mari:"mhr",Maori:"mi",Macedonian:"mk",Malayalam:"ml",Mongolian:"mn",Marathi:"mr","Hill Mari":"mrj",Malay:"ms",Maltese:"mt",Burmese:"my",Nepali:"ne",Dutch:"nl",Norwegian:"no",Punjabi:"pa",Papiamento:"pap",Polish:"pl",Portuguese:"pt",Romanian:"ro",Russian:"ru",Sinhalese:"si",Slovak:"sk",Slovenian:"sl",Albanian:"sq",Serbian:"sr",Sundanese:"su",Swedish:"sv",Swahili:"sw",Tamil:"ta",Telugu:"te",Tajik:"tg",Thai:"th",Tagalog:"tl",Turkish:"tr",Tatar:"tt",Udmurt:"udm",Ukrainian:"uk",Urdu:"ur",Uzbek:"uz",Vietnamese:"vi",Xhosa:"xh",Yiddish:"yi",Chinese:"zh"},translateBtn=document.querySelector("#translatorBtn"),translatorInput=document.querySelector("#translatorInput"),languageReverseBtn=document.querySelector(".translator--reverseBtn"),outputLangBtn=document.querySelector("#outputLang"),inputLangBtn=document.querySelector("#inputLang"),modalContent=document.querySelector(".modal--content"),modalContainer=document.querySelector(".modal--container");translateBtn.addEventListener("click",translateText,!1),translatorInput.addEventListener("keyup",sendToTranslate,!1),languageReverseBtn.addEventListener("click",reverseLanguages,!1),outputLangBtn.addEventListener("click",showModal,!1),inputLangBtn.addEventListener("click",showModal,!1),document.querySelector(".modal--overlay").addEventListener("click",closeModal,!1),modalContent.addEventListener("click",selectLanguage,!1),modalContainer.addEventListener("keypress",searchLanguage,!1),translatorInput.focus(),chrome.storage.sync.get(["inputLanguage","outputLanguage"],function(n){n.inputLanguage&&(inputLangBtn.innerHTML=n.inputLanguage),n.outputLanguage&&(outputLangBtn.innerHTML=n.outputLanguage)});var copyBtn=new ClipboardJS("#copyBtn");function translateText(){if(""!==translatorInput.value){var n=translatorInput.value.split(" ").join("+"),e=langList[inputLangBtn.innerHTML],a=langList[outputLangBtn.innerHTML];fetch("https://translate.yandex.net/api/v1.5/tr.json/translate?key=trnsl.1.1.20180806T180405Z.a97df2323f4db674.6f2961e102f1e464ad056fafcaf6951b74a2fb26&text="+n+"&lang="+e+"-"+a).then(function(n){return n.json()}).then(function(n){document.querySelector(".translator--result").innerHTML=n.text[0]})}}function sendToTranslate(n){"Enter"===n.key&&translateText()}function reverseLanguages(){var n=document.querySelector("#inputLang"),e=document.querySelector("#outputLang"),a=[e.innerHTML,n.innerHTML];n.innerHTML=a[0],e.innerHTML=a[1],chrome.storage.sync.set({inputLanguage:n.innerHTML,outputLanguage:e.innerHTML})}function showModal(n){for(var e in document.querySelector("#translateInfo").innerHTML=n.target.dataset.langInfo,modalContent.innerHTML="",langList){var a='<button class="modal--language '+(n.target.innerHTML===e?"modal--language-selected":"")+'">'+e+"</button>";modalContent.innerHTML+=a}document.querySelector("#modal").classList.add("modal--overlay-opened"),setTimeout(function(){modalContainer.focus()},100)}function closeModal(n){"modal--overlay"!==n.target.classList[0]&&"modal--close"!==n.target.classList[0]||document.querySelector("#modal").classList.remove("modal--overlay-opened")}function selectLanguage(n){var e=n.target;"modal--language"===e.classList[0]&&("from"===document.querySelector("#translateInfo").innerHTML?(outputLangBtn.innerHTML===e.innerHTML&&(outputLangBtn.innerHTML=inputLangBtn.innerHTML),inputLangBtn.innerHTML=e.innerHTML,chrome.storage.sync.set({inputLanguage:e.innerHTML})):(inputLangBtn.innerHTML===e.innerHTML&&(inputLangBtn.innerHTML=outputLangBtn.innerHTML),outputLangBtn.innerHTML=e.innerHTML,chrome.storage.sync.set({outputLanguage:e.innerHTML})),document.querySelector("#modal").classList.remove("modal--overlay-opened"))}function searchLanguage(e){for(var n=document.querySelectorAll(".modal--language"),a=Array.from(n).filter(function(n){return n.innerHTML[0].toLowerCase()===e.key}),t=0,r=a.length;t<r;t++)if(document.activeElement===a[t]){t+1===r?a[0].focus():a[t+1].focus();break}0===a.filter(function(n){return document.activeElement===n}).length&&a[0].focus()}function removeClass(n,e){n.classList.remove(e)}copyBtn.on("success",function(e){console.info("Action:",e.action),console.info("Text:",e.text),console.info("Trigger:",e.trigger),e.trigger.classList.add("tooltip"),["blur","mouseleave"].forEach(function(n){e.trigger.addEventListener(n,function(){return removeClass(e.trigger,"tooltip")},!1)}),e.clearSelection()});